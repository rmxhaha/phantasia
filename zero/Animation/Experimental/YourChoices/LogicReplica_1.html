<html><body><canvas id=canvas width=1000 height=600></canvas><script>var ctx = document.getElementById("canvas").getContext("2d");var img;var t = 0;var dur = 1000;var wx = 600;var dx = 500;var wy = 100;var dy = 100;var trail_length = 10;var trail_delay_time = 30;var SeeSaw = function(p) {	if( p < 0.5 ){		return 0.5 * Math.pow( 2, 10 * ( p * 2 - 1 ) );	} else {		return 0.5 * (2 - Math.pow(2, -10 * ( p * 2 - 1 )));	}}var Deaccel = function(p) {	return 1 - Math.pow(2, -10 * p);}var Accel = function(p) {	return Math.pow(2, 10 * (p - 1)) - 0.0001;}function infinite(){	wx -= ( SeeSaw( (t+20) / dur ) - SeeSaw( t / dur ) ) * dx;	wy -= ( SeeSaw( (t+20) / dur ) - SeeSaw( t / dur ) ) * dy;	if( t <= dur + trail_length * trail_delay_time ){		ctx.globalAlpha = 1;		ctx.fillStyle = "#FFF";		ctx.fillRect( 0, 0, 1000, 600 );		for( var i = trail_length; --i; ){			if( 0 <= t - i * trail_delay_time && t - i * trail_delay_time <= dur )			{				ctx.globalAlpha = Accel( ( t - i * trail_delay_time ) / 1.2 / dur );				var __x = 600 - ( SeeSaw( ( t - i * trail_delay_time ) / dur ) ) * dx;				var __y = 100 - ( SeeSaw( ( t - i * trail_delay_time ) / dur ) ) * dy;								ctx.drawImage(					img, 0, 550,450,200, 					__x, __y, 450,200 				);						}		}		ctx.globalAlpha = 1;		ctx.drawImage(			img, 0, 550,450,200, 			wx, wy, 450,200 		);				t += 20;		setTimeout( "infinite()", 20 );	}}window.onload = function(){	img = new Image();	img.src = "Whale_Fast_sketch_2.png";	img.onload = function(){ 		infinite();	}}</script></body></html>